## 2.2 最小のプログラムと実際のコード

変数の概念を理解したところで、これから、いよいよ初めてのプログラムを作ります。しかし初めから色々な機能のあるプログラムを作成する事は不可能なので、まずは最小のプログラムを作っていきます。

### 2.2.1 main関数とreturn文
そもそも、C++のプログラムを作るのにどのような知識が必要になるでしょうか。それにはまず、そのプログラム言語の構造を知る事が第一です。<br>例えばあなたは木製の椅子を作ろうとしました。しかし木製の椅子を作るには、木製の椅子の構造を知っていなければ、作りあげる事はできません。<br>ではC++の構造とはどのような構造なのでしょうか。木製の椅子を作るためには様々な椅子に合いそうな木、つまり部品が必要になります。プログラムも、同じように部品の集合で成り立っているのです。その部品をC++では関数と言います。そして以下が、C++の最小のコードであり、全てはここから始まります。
```cpp
int main(){}
```
これは、「メイン関数」と言います。C++のプログラムには、メイン関数が1つ必ずなくてはなりません。そして、メイン関数の`{}`内に処理を書く事ができます。しかし、今は何も書いていないので、これは何もしません。

意味合いとしては、**`int`型のデータを返すmainという名前の関数**という意味合いになります。`int`型のデータを返すとはなんでしょう？まずメイン関数は、プログラムを実行した際、一番初めに実行される内容となります。このプログラムが起動した後、このコードには、何も記述されていないので、何もせずに、メイン関数でプログラムを終了する事になります。そのプログラムを終了する際に、プログラムを実行した元のプログラムへ、数値を返すという慣習があるのです。 例えば、Windowsで、「a」というアプリケーションを起動したとします。「a」は正しく処理がなされました。しかし、起動元であるWindowsは、そのアプリケーションが正しく処理されたかどうか知ることができません。そこで、「a」というアプリケーションは、例えば0という数値をWindowsへ返したとします。そしてWindowsは0という数値が返ってくると正常に終了したと認識するとします。ここで初めて、Windowsは「a」というアプリケーションは正常に実行されたという事が認識できるのです。このような事のために、メイン関数には`int`という数値を返す関数であるという定義を行います。つまり、上記のコードは厳密に言えば、こう書くべきかもしれません。

```cpp
int main(){return 0;}
```
このように`return value;`と書く事で、その`value`を起動元のプログラムへ返し、その関数の処理が終了します。つまり上記のプログラムは0を返してプログラムを終了しろという意味になります。
初めにreturn文を省略した訳は、実行結果を判定する必要の無いプログラムだからです。そういった場合は、return文を省略しても構わない事となっています。

### 2.2.2 インデント
先ほど、私は以下が最小のコードだと述べました。

```cpp
int main(){}
```
しかし、これはこのように記述する事ができます。

```cpp
int main()
{
}
```
このように書くこともできます。

```cpp
int main()
{
    }
```
このようにも。

```cpp
int
main(
){
}
```

このように、キーワード単位が守られた記述であれば、どのように改行したりスペースを入れたり、タブを入れたりしても構わない事となっています。このようにスペースやタブ等の事をインデントと言います。<br>ただ一つ注意してほしいのが、全角のスペースです。コードの中には全角のスペースでインデントを入れる事はできません。もし全角スペースでインデントを入れると、コンパイラ(GCC 6.1.0)はこのようなエラーを出力します。
```
t.cpp:3:1: エラー: プログラム内に逸脱した ‘\343’ があります ???
t.cpp:3:2: エラー: プログラム内に逸脱した ‘\200’ があります ???
t.cpp:3:3: エラー: プログラム内に逸脱した ‘\200’ があります ??
```
全角スペースは、視覚的に確認できるものではないので、タイプミスなどで挿入してしまう場合があります。注意しましょう。

### 2.2.3 コメント
ここでついでに、コメント機能についても触れておきましょう。コメントとは、プログラムに注釈のような一言メモを添えておける機能です。実は、ここまでで示したサンプルコードの中にも、いくつかコメントが書かれていました。

```cpp
int x=10; // xには10が入ってます
```
<code>//</code>から先は、プログラム中に日本語が含まれています。<code>//</code>を使う事で<code>//</code>以降その段落はコメントとしてコンパイラに捉えられるので、何を書いても良い事になっています。

```cpp
int x=10; // xには10が入っているはずなんですよね〜〜ああ、お腹すいたな。
```
と書いてもプログラム上は問題ありません。(無関係な内容を書くべきではありません)<br>また、<code>//</code>以外に、<code>/&#42; &#42;/</code>というようなコメント機能もあります。

```cpp
int x=10; /* xには10が入っていると思われるのであります。 */
```
<code>/&#42; &#42;/</code>で囲んでいる範囲はコメントとなるので、何を書いてもプログラム上は問題ありません。(無関係な内容を書くべきではありません)

### 2.2.4 数値演算のプログラム

ここまでで、変数とmain関数の概念を説明しました。以上の概念を用いて、ついに実際のプログラムを作る事ができます。

```cpp
int main()
{
    int a=10,b=10;
    int result=a+b;
}
```
`result`に`a`と`b`の加算結果を得るというプログラムを書く事ができるようになりました。尚、変数宣言は上記のように、`,`を使う事で連続的に変数を宣言する事ができます。動きとしては、下記コードと同じです。

```cpp
int main()
{
    int a=10;
    int b=10;
    int result=a+b;
}
```
ただ、`,`を用いて変数宣言をした以上、`,`で宣言された変数は全てその型となるという事を注意してください。つまり、

```cpp
int main()
{
    int a=10,b=3.14;
}
```
とした場合、bには3が代入されるという事です。3.14を代入したければ、

```cpp
int main()
{
    int a=10;
    double b=3.14;
}
```
のように別の型を用いて定義しなければなりません。