# 3.3 プリプロセッサ

「3.1.1 インクルード」などで`#include`について触れました。この項では、さらに深くプリプロセスの概要と、`#include`以外のプリプロセッサ命令を見ていきます。

## 3.3.1 プリプロセスとは
プリプロセスとは「1.1.2 プログラミングからアプリケーションの実行/終了の流れ」の項で実行ファイルを生成するまでの一連の流れを示した通り、コンパイル(構文解析)の前にされる処理です。そしてプリプロセスを行う機構をプリプロセッサと言います。そしてそれに対する命令をプリプロセッサ命令と言います。プリプロセッサ命令をする事で何ができるのかと言うと、`#include`のように文字列の置換であったり、その他無効化、情報の出力などを行うことができます。gcc や clang++ でプリプロセッサーの様子を見たい場合、以下のようにコマンドを指定することで可能です。
```cpp
$ g++ -E -P file.cpp
$ clang++ -E -P file.cpp
```

## #include
まず`#include`命令を見てみましょう。何度か述べている通り、`#include`は指定されたファイルの中身をそのままその部分に置換します。
```cpp
// a.hpp
void f(){}
```
```cpp
// a.cpp
#include"a.hpp"
void f();
int main(){}
```
これをコンパイルすると、
```cpp
$ g++ -E -P a.cpp
```
以下のように出力されます。
```cpp
void f(){}

void f();
int main()
{
 f();
}
```
a.hppの内容がそのままa.cppに置換されている事がわかります。この時`#include`の部分で`"`を使っていますね。しかし例えば`iostream`をインクルードするときは、`<>`を使っていました。これらには動作の違いがあります。

`"`でファイル名を囲んだ場合、処理中のファイルからの相対パス(処理中ファイルの主観から見たファイル位置)でその指定ファイルを探し、その中で見つからなかった場合、事前に組み込まれた標準ライブラリのパスや、追加で渡されたインクルードパスを探します。

`<>`でファイル名を囲んだ場合、指定されたインクルードパスのみを検索します。

インクルードパスは、コマンドオプションで指定することができます。例えば、以下のように。
```cpp
$ g++ -I < file path > file.cp
```
`< file path >`の部分にパスを指定します。以下に例を示します。
```cpp
// a.hpp
void f(){}
```
```cpp
// a.cpp
#include<a.hpp> // インクルードパスのみを探索
void f();
int main(){}
```
以下のように実行します。
```cpp

```